<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-releases/release-11.10.0" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">11.10.0 | Sinequa SBA Framework</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/dokku/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://github.com/dokku/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://github.com/dokku/docs/releases/release-11.10.0"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="11.10.0 | Sinequa SBA Framework"><meta data-rh="true" name="description" content="See on Github{:.d-block .text-right }"><meta data-rh="true" property="og:description" content="See on Github{:.d-block .text-right }"><link data-rh="true" rel="icon" href="/dokku/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/dokku/docs/releases/release-11.10.0"><link data-rh="true" rel="alternate" href="https://github.com/dokku/docs/releases/release-11.10.0" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/dokku/docs/releases/release-11.10.0" hreflang="x-default"><link rel="stylesheet" href="/dokku/assets/css/styles.89d45194.css">
<link rel="preload" href="/dokku/assets/js/runtime~main.d2c78bc4.js" as="script">
<link rel="preload" href="/dokku/assets/js/main.b200fd7b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dokku/"><div class="navbar__logo"><img src="/dokku/assets/index/sinequa-logo-light-sm.png" alt="Sinequa Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/dokku/assets/index/sinequa-logo-light-sm.png" alt="Sinequa Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">SBA Framework</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/dokku/docs">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/sinequa/sba-angular" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dokku/docs">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dokku/docs/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/dokku/docs/guides">Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/dokku/docs/tutorial">Tutorial</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/dokku/docs/libraries">Libraries</a><button aria-label="Toggle the collapsible sidebar category &#x27;Libraries&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/dokku/docs/apps">Applications</a><button aria-label="Toggle the collapsible sidebar category &#x27;Applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/dokku/docs/tipstricks">Tips and Tricks</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tips and Tricks&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/dokku/docs/releases">Releases</a><button aria-label="Toggle the collapsible sidebar category &#x27;Releases&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dokku/docs/releases/release-11-3-0">11.3.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dokku/docs/releases/release-11-4-0">11.4.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dokku/docs/releases/release-11-4-1">11.4.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dokku/docs/releases/release-11-5-0">11.5.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dokku/docs/releases/release-11-6-0">11.6.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dokku/docs/releases/release-11-6-1">11.6.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dokku/docs/releases/release-11-7-0">11.7.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dokku/docs/releases/release-11-7-1">11.7.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dokku/docs/releases/release-11-8-0">11.8.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dokku/docs/releases/release-11-8-1">11.8.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dokku/docs/releases/release-11-9-0">11.9.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/dokku/docs/releases/release-11.10.0">11.10.0</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dokku/docs/contact">Contact</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/dokku/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/dokku/docs/releases"><span itemprop="name">Releases</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">11.10.0</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>11.10.0</h1></header><p><a href="https://github.com/sinequa/sba-angular/releases/tag/11.10.0" target="_blank" rel="noopener noreferrer">See on Github</a>{:.d-block .text-right }</p><h1>General changes</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="️-platform-breaking-changes">⚠️ Platform breaking changes<a href="#️-platform-breaking-changes" class="hash-link" aria-label="Direct link to ⚠️ Platform breaking changes" title="Direct link to ⚠️ Platform breaking changes">​</a></h2><p>Unlike previous versions of the SBA Framework, the 11.10.0 release is not compatible with older versions of Sinequa ES (11.9.0 and below). This is due to various new functionalities in the platform&#x27;s REST API (see below).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentation-updates">Documentation updates<a href="#documentation-updates" class="hash-link" aria-label="Direct link to Documentation updates" title="Direct link to Documentation updates">​</a></h2><p>The <a href="https://sinequa.github.io/sba-angular/" target="_blank" rel="noopener noreferrer">SBA documentation</a> has been significantly enriched, rewritten and reorganized. In particular:</p><ul><li>Rewritten <strong>Introduction</strong> and <strong>Getting Started</strong> sections</li><li>New <strong>Guides</strong> section with guidance on SBA architecture, development environment, versioning, etc.</li><li>Reorganized the <strong>Components</strong> documentation and introduced interactive examples to replace the previous static screenshots and code snippets.</li><li>New <strong>Applications</strong> section including not only the core framework (vanilla, pepper) but also the Usage Analytics and Vanilla Builder applications.</li><li>New <strong>Releases</strong> section with a list of all SBA releases and their main changes (mirroring the Github releases).</li><li>Auto-generated documentation (compodoc) was removed. Instead, we automatically link class names and interfaces found in the documentation to the matching source code in the Github repository.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="end-to-end-tests">End-to-end tests<a href="#end-to-end-tests" class="hash-link" aria-label="Direct link to End-to-end tests" title="Direct link to End-to-end tests">​</a></h2><p>This release introduces end-to-end (e2e) tests for the SBA components. These tests are written with <a href="https://www.cypress.io/" target="_blank" rel="noopener noreferrer">Cypress</a> and defined in the <code>cypress</code> folder of the repository. These tests cover the (new) <code>projects/components-docs</code> application which centralizes all of Sinequa components from <code>projects/analytics</code> and <code>projects/components</code> (see below). These tests consist primarily in rendering each component and comparing its visual appearance with a reference screenshot. The reference screenshots are stored in the <code>cypress/snapshots</code> folder.</p><h1>Library updates</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="core">Core<a href="#core" class="hash-link" aria-label="Direct link to Core" title="Direct link to Core">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="web-services">Web services<a href="#web-services" class="hash-link" aria-label="Direct link to Web services" title="Direct link to Web services">​</a></h3><ul><li><p>Removed support of fielded search expressions (<code>Expr</code>, <code>ExprParser</code>, <code>ExprBuilder</code> classes). Expressions are replaced with a new &quot;filter&quot; syntax documented in the <a href="/dokku/docs/libraries/core/app-utils#filtering-the-metadata">Core library</a>. Note that the fielded search syntax used in the search form is still interpreted by the platform as before (but the SBA is unaware of it).</p><p>⚠️ Any usage of <code>Expr</code> in a custom application must be migrated to the new filter syntax. The new syntax essentially provides the same level of functionality:</p><p>Before:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">expr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exprBuilder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">concatAndExpr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exprBuilder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">makeExpr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;docformat&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;pdf&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exprBuilder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">concatOrExpr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exprBuilder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">makeExpr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;authors&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;John&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exprBuilder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">makeNumericalExpr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;size&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">query</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addSelect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">filter </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  operator</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;and&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  filters</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> field</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;docformat&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;pdf&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      operator</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;or&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      filters</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> field</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;authors&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;John&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> field</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;size&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> operator</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">query</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addFilter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filter</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Dataset web service:</p><ul><li>New <code>isDatasetError(result)</code> method to easily test whether a result returned by the dataset web service is valid.</li><li>The <code>get(webService, dataset)</code> now throws an error if the result is not a valid dataset, and its return signature has therefore been changed to <code>Observable&lt;Results&gt;</code>.</li><li>The <code>getAll()</code> method is removed. Use <code>getBulk()</code> without specifying any dataset instead.</li></ul></li><li><p>The Json Method web service now has proper typing for the <code>options</code> argument, enables typing the return type and does not log the response to the console anymore.</p></li><li><p>The Query web service <code>Results</code> object is more accurately typed and was updated to match the latest platform changes (especially around the Neural Search data structures).</p></li><li><p>The download service now allows specifying a file name for the downloaded file (rather than the default one sent by the server).</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="login">Login<a href="#login" class="hash-link" aria-label="Direct link to Login" title="Direct link to Login">​</a></h3><ul><li><p>⚠️ Removed support for login in a popup window using <code>ng2-ui-auth</code> (unmaintained library).</p></li><li><p>The Login interceptor now sends the UI language to the platform (via headers and/or body).</p></li><li><p>The Login interceptor now intercepts network errors (eg. 0, 503, 504) and automatically performs retries (progressively spaced in time, as in gmail) while displaying a special notification to the user.</p></li><li><p>The Login service now supports hard-coded credentials for development or CI purposes. Credentials can be injected in an app module&#x27;s providers:</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">provide</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">CREDENTIALS</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> useValue</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;admin&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> password</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;admin&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="audit">Audit<a href="#audit" class="hash-link" aria-label="Direct link to Audit" title="Direct link to Audit">​</a></h3><ul><li>All events now include the current browser URL so the current route &amp; query are always available in the logs.</li><li>Logging of route change events is now a core feature as opposed to an app-by-app implementation.</li><li>Logging of exit/return events is now a core feature as opposed to an app-by-app implementation. Now only the <strong>Navigation_Return</strong> events are captured, following a click on a document link (as opposed to tracking any kind of navigation, or alt-tabbing).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="miscellaneous">Miscellaneous<a href="#miscellaneous" class="hash-link" aria-label="Direct link to Miscellaneous" title="Direct link to Miscellaneous">​</a></h3><ul><li>Fixed the escaping of html elements passed to formatjs (<a href="https://github.com/sinequa/sba-angular/issues/108" target="_blank" rel="noopener noreferrer">https://github.com/sinequa/sba-angular/issues/108</a>).</li><li><code>IntlService.formatRelativeTime()</code> now behaves consistently whether given a string/Date (delay relative to now) or a number (delay) and always auto-determines the display unit (min, hour, day, week, etc.).</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="components">Components<a href="#components" class="hash-link" aria-label="Direct link to Components" title="Direct link to Components">​</a></h2><p><em>All components that apply filters to the <code>Query</code> have been migrated to the new filter syntax (see above)</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="autocomplete-module">Autocomplete module<a href="#autocomplete-module" class="hash-link" aria-label="Direct link to Autocomplete module" title="Direct link to Autocomplete module">​</a></h3><ul><li>⚠️ Removed the <code>sqAutocompleteFieldSearch</code> directive and <code>sq-field-search-items</code> component (following the removal of the fielded search syntax).</li><li>New <code>SuggestService</code> features:<ul><li>When no suggestion is returned, attempt a new strategy of autocompleting only the last token of the query (eg. &quot;Sinequa Sea&quot; -&gt; &quot;Sinequa <strong>Search Engine</strong>&quot;).</li><li>Deduplication, highlighting and scoring of suggest results.</li><li>Better protection against HTML injection in the suggest results.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="collapse-module">Collapse module<a href="#collapse-module" class="hash-link" aria-label="Direct link to Collapse module" title="Direct link to Collapse module">​</a></h3><ul><li>⚠️ Removed <code>sq-collapse-link</code> (unused and redundant with <code>sq-collapse-button</code>).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="facet-module">Facet module<a href="#facet-module" class="hash-link" aria-label="Direct link to Facet module" title="Direct link to Facet module">​</a></h3><ul><li><p>⚠️ Major refactoring of the <code>sq-facet-list</code> component:</p><ul><li>Removal of the <code>sq-facet-tree</code> component. <code>sq-facet-list</code> now handles both list and tree aggregations.</li><li>A click on the checkbox displays an &quot;Apply&quot; button that lets user check other items before applying the selection.</li><li>A click anywhere else on an item applies the selection immediately.</li><li>Advanced selection options (AND / OR / NOT operators) are nested under a dropdown menu.</li><li>New icon for &quot;removing a filter&quot;.</li><li>Changes in options:<ul><li>Added <code>focusSearch</code> (default: <code>false</code>): Automatically focus the search bar when the facet is expanded.</li><li>Added <code>expandedLevel</code> (default: <code>2</code>): The number of levels expanded by default (for tree aggregations).</li><li>Removed <code>showCheckbox</code> (determined automatically)</li><li>Removed <code>displayActions</code> (not useful anymore)</li><li>Removed <code>showProgressBar</code> (unused)</li><li>Removed <code>alwaysShowSearch</code> (the search bar is always shown when <code>searchable</code> is <code>true</code>)</li><li><code>allowAnd</code> is <code>false</code> by default</li></ul></li></ul></li><li><p>⚠️ Removed <code>sq-facet-mysearch</code> (Replaced by the <a href="/dokku/docs/libraries/components/filters">Filters module</a>).</p></li><li><p>Change of behavior in the <code>sq-facet-refine</code> component: Rather than adding a special select property to the query and letting the server modify the fulltext search query accordinly, this component now directly modifies the fulltext query via <code>query.addRefine()</code>.</p></li><li><p>Refactoring of the <code>sq-facet-multi</code> component. The component now displays a custom header template. The <code>icon</code> and <code>title</code> of the facet should be passed as input to this component rather than to the parent <code>sq-facet-card</code>.</p></li><li><p>New <code>sq-facet-container</code> component to display a list of facets as a toolbar, where one facet can be expanded at a time. This component is documented in the <a href="/dokku/docs/libraries/components/facet#facet-container">Facet library</a>. This component is used in the new integrated search form (packaged in <a href="/dokku/docs/apps/pepper#integrated-search-form">Pepper</a>).</p></li><li><p>Refactoring of the <code>sq-facet-filters</code> component to properly display the actions and custom templates of the facet components in the dropdown panels.</p></li><li><p>Facet card:</p><ul><li>Handle the &quot;click outside&quot; event more efficiently (see: <a href="https://github.com/sinequa/sba-angular/issues/106" target="_blank" rel="noopener noreferrer">https://github.com/sinequa/sba-angular/issues/106</a>).</li><li>New inputs to control the actions&#x27; tooltip placement (<code>defaultTooltipPlacement</code> and <code>defaultTooltipFallbackPlacements</code>).</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-filters-module">New Filters module<a href="#new-filters-module" class="hash-link" aria-label="Direct link to New Filters module" title="Direct link to New Filters module">​</a></h3><p>This new module is documented in the <a href="/dokku/docs/libraries/components/filters">Components library</a>. It allows displaying and editing the filters of a <code>Query</code> object. The component is meant to replace the <code>sq-facet-mysearch</code> and <code>sq-breadcrumbs</code> components.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="machine-learning-module">Machine Learning module<a href="#machine-learning-module" class="hash-link" aria-label="Direct link to Machine Learning module" title="Direct link to Machine Learning module">​</a></h3><ul><li><p>New <code>sq-chat</code> component and <code>ChatService</code> service to display a chatbot interface. This component allows to chat with a Large Language Model such as GPT-4 (the model powering ChatGPT). This component is documented in the <a href="/dokku/docs/libraries/components/machine-learning#chat">Machine Learning library</a>.</p></li><li><p>Refactored the <code>sq-top-passages</code> component: No more pagination, passage truncation or custom facet card header. The text of the answer (predicted by the answer finder model is highlighted within the text of the passage). The component also auto-hides if no passages are found.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="metadata-module">Metadata module<a href="#metadata-module" class="hash-link" aria-label="Direct link to Metadata module" title="Direct link to Metadata module">​</a></h3><p>⚠️ Major refactoring of the module:</p><ul><li>Removal of the <code>sq-metadata-access-list</code> component (unused).</li><li>Redesign of the <code>sq-metadata</code> and <code>sq-metadata-item</code> components. Metadata is now displayed according to a configuration (incl. icon, label, filterable, etc.), similar to how the facets and facet containers work. The components are documented in the <a href="/dokku/docs/libraries/components/metadata">Metadata library</a>.</li><li>New <code>HighlightService</code> whose role is to dynamically generate CSS styles to highlight entities in text, based on a given configuration. This service allows to decouple the preview CSS (which used to contain highlight colors for entities) from the main application, which may or may not want to highlight entities or other metadata dependending on the context. In the context of the metadata module, this service allows to apply highlighting in the &quot;entity tooltip&quot; that displays an extract from a document featuring the entity (see the documentation for more information).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="preview-module">Preview module<a href="#preview-module" class="hash-link" aria-label="Direct link to Preview module" title="Direct link to Preview module">​</a></h3><p>⚠️ Major refactoring of the module:</p><ul><li><p>Removal of unused legacy components (from SBA v1).</p></li><li><p>Replacement of the <code>sq-preview-document-iframe</code> and <code>sq-facet-preview</code> components, as well as the <code>PreviewDocument</code> class with a new <code>sq-preview</code> component. This component is documented in the <a href="/dokku/docs/libraries/components/preview">Preview library</a>.</p></li><li><p>A new script must be injected in the preview, similar to how the CSS stylesheet was injected so far:</p><ul><li>The script file name <strong>must</strong> be configured in the preview web service configuration on the server. The default name should be <code>preview/preview.js</code> (see the <code>_preview</code> configuration for reference).</li><li>The script <strong>must</strong> be included in your application build. This is now the case by default in Vanilla Search, Pepper and Hello Search.</li></ul></li><li><p>The preview highlights (colors of the entities) are now generated dynamically based on configuration passed to the <code>sq-preview</code> component. This allows adding or removing entity highlights without having to recompile the application (simply by adding your custom configuration in the &quot;Customization JSON&quot; object of your application). This is again illustrated by default in Vanilla Search.</p></li><li><p>Note: This refactoring allows the preview to be used in CORS contexts (eg. when the application is served from a different domain as the Sinequa WebApp).</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="result-module">Result module<a href="#result-module" class="hash-link" aria-label="Direct link to Result module" title="Direct link to Result module">​</a></h3><ul><li><p>Three new components allow to display exact and approximate* duplicate documents in a result list:</p><ul><li><code>sq-result-duplicates</code>: A simple component that displays the number of exact and approximate duplicates for a given document.</li><li><code>sq-result-duplicates-spacer</code>: A component that visually differentiates approximate duplicates in a results list.</li><li><code>sq-result-duplicates-list</code>: Displays a list of &quot;approximate duplicates&quot; for a given document.</li></ul><p>*: &quot;Approximate duplicates&quot; are determined by a developer-supplied function (see <code>SearchOptions</code>) that compares two documents and returns a boolean.</p><p>See the <a href="/dokku/docs/libraries/components/result#duplicate-documents">Result module documentation</a> for more information.</p></li><li><p>Refactoring of the <code>sq-result-icon</code> component: Rather than relying on a global stylesheet to map file extensions to icons, the component now accepts a custom mapping as input (a default mapping is provided with the same icons as those previously defined in CSS).</p></li><li><p>New <code>showMustInclude</code> option added to <code>sq-missing-terms</code> to allow users to force a missing term to be included in the query.</p></li><li><p>Added internationalization of the treepath items in <code>sq-result-source</code>.</p></li><li><p>The <code>sq-result-thumbnail</code> component does NOT wrap the thumbnail in a link anymore if either <code>linkBehavior</code> is false or if the URL of the document is empty.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-search-form-module">New Search-Form module<a href="#new-search-form-module" class="hash-link" aria-label="Direct link to New Search-Form module" title="Direct link to New Search-Form module">​</a></h3><p>New module exporting a customizable <code>sq-search-form</code> component.</p><p>This component is used in a simple way in <a href="/dokku/docs/apps/vanilla-search">Vanilla Search</a> (where it only shows an autocomplete component in the expanded state).</p><p>It is also used in Pepper to display an integrated search form (featuring filters, facets and autocomplete).</p><p>This module is documented in the <a href="/dokku/docs/libraries/components/search-form">Components library</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="search-module">Search module<a href="#search-module" class="hash-link" aria-label="Direct link to Search module" title="Direct link to Search module">​</a></h3><ul><li>⚠️ Removal of the <code>sq-breadcrumbs</code> component (replaced by the <a href="/dokku/docs/libraries/components/filters">Filters module</a>).</li><li>⚠️ Removal of the <code>Breadcrumbs</code> class.</li><li>Scopes: The <code>sq-scope</code> component now properly handles default scopes or disabled scopes configured in the query web service.</li><li>Tabs: The <code>sq-tabs</code> component can now have custom icons (rather than only text).</li><li><code>SearchService</code>:<ul><li>The service now enriches the <code>Results</code> object new properties computed by the SBA (eg. <code>record.$isDuplicate</code>, <code>record.$duplicateCount</code>, <code>aggregation.$filtered</code> etc.). These new pre-computed properties allow to simplify the logic of the SBA components and avoid code duplication.</li><li>New optional <code>SearchOptions</code>:<ul><li><code>testDuplicates</code>: A function that compares two documents and returns a boolean indicating whether they are duplicates (see the new <code>sq-result-duplicates</code> components).</li><li><code>initializeResults</code>: A functional that can be used to customize the <code>Results</code> object before it is used by the SBA components.</li><li><code>initializeRecord</code>: Similar to <code>initializeResults</code> but for a single record.</li><li><code>initializeAggregation</code>: Similar to <code>initializeResults</code> but for a single aggregation.</li></ul></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="theme-toggle">Theme toggle<a href="#theme-toggle" class="hash-link" aria-label="Direct link to Theme toggle" title="Direct link to Theme toggle">​</a></h3><p>⚠️ Removed, because the user menu now includes a theme toggle by default.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="theme">Theme<a href="#theme" class="hash-link" aria-label="Direct link to Theme" title="Direct link to Theme">​</a></h3><p>⚠️ Major refactoring of the Sinequa theme that was introduced in the 11.9.0 release. The theme is now more modular and more simply organized. It makes heavy usage of Bootstrap variables rather than overriding CSS rules. The theme is documented in the <a href="/dokku/docs/libraries/components/theme">Components library</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="utils">Utils<a href="#utils" class="hash-link" aria-label="Direct link to Utils" title="Direct link to Utils">​</a></h3><ul><li><p>The <code>sqTooltip</code> directive:</p><ul><li>now displays a custom template with the <code>sqTooltipTemplate</code> input.</li><li>instead of a string, accepts a function that returns arbitrary data (asynchronously) to be displayed in this template. This allows fetching data from the server to display in the tooltip upon hovering an element.</li><li>the tooltip can now be hoverable itself (rather than only the element that triggers the tooltip) with the <code>hoverableTooltip</code> input. This allows to display a tooltip with a link or button that can be clicked.</li></ul></li><li><p>Removed the <code>sqExpr</code> pipe (replaced by <code>sq-filters</code>).</p></li><li><p>The <code>UIService</code> now handles whether the dark theme is on or off.</p></li><li><p>New <code>sq-virtual-scroller</code> component that allows an infinite scroll behavior on a long list of data (e.g. the extracts of the preview).</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="analytics">Analytics<a href="#analytics" class="hash-link" aria-label="Direct link to Analytics" title="Direct link to Analytics">​</a></h2><p><em>All components that apply filters to the <code>Query</code> have been migrated to the new filter syntax (see above)</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-dashboard-module">New Dashboard module<a href="#new-dashboard-module" class="hash-link" aria-label="Direct link to New Dashboard module" title="Direct link to New Dashboard module">​</a></h3><p>The Pepper dashboard has been extracted into a separate module <code>@sinequa/analytics/dashboard</code> and can be imported in any application. The content of the dashboard is still defined in the host application and can thus be customized easily. This new module is documented in the <a href="/dokku/docs/libraries/analytics/dashboard">Analytics library</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="heatmap-module">Heatmap module<a href="#heatmap-module" class="hash-link" aria-label="Direct link to Heatmap module" title="Direct link to Heatmap module">​</a></h3><p>The heatmap component properly handles filtering and formatting of the data (entities, CSV, string, etc.) in both &quot;cooccurrence&quot; and &quot;cross-distribution&quot; modes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="timeline-module">Timeline module<a href="#timeline-module" class="hash-link" aria-label="Direct link to Timeline module" title="Direct link to Timeline module">​</a></h3><ul><li>Integrated the timeline legend (<code>sq-timeline-legend</code> component) into the <code>sq-timeline</code> component instead of the <code>sq-facet-component</code> component. The inputs of the legend component are now inputs of the timeline component.</li><li>The <code>sq-facet-timeline</code> component now handles timelines computed with hour or minute granularity (<code>MASK</code> parameter).</li><li>The <code>sq-timeline</code> component now handles data points with a <code>displayedDate</code> property. This property allows to show on the same chart 2 timeseries from a different time range plotted against each other. This allows for example to compare the evolution of a metric for a year vs. the same metric for the previous year. The timeline tooltip displays the date information accordingly.</li></ul><h1>Application updates</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="vanilla-search">Vanilla Search<a href="#vanilla-search" class="hash-link" aria-label="Direct link to Vanilla Search" title="Direct link to Vanilla Search">​</a></h2><ul><li><p>Removed the logging of audit events from the AppComponent (now handled by the core library).</p></li><li><p>Complete reorganization of the application CSS, based on the new Sinequa Theme (see above). The application behavior on small screens was also improved.</p></li><li><p>Improved the Neural Search UI (based on <code>@sinequa/components/machine-learning</code>).</p></li><li><p>Replaced the <code>sq-facet-mysearch</code> component with the new <code>sq-filters-view</code> (see above).</p></li><li><p>Implemented the new visualization of duplicate documents (see above).</p></li><li><p>Implemented the new <code>sq-metadata</code> component (see above). The configuration is defined in <code>config.ts</code> but can be overriden by the server without recompiling the application.</p></li><li><p>Implemented the new <code>sq-preview</code> component (see above). The configuration is defined in <code>config.ts</code> but can be overriden by the server without recompiling the application.</p></li><li><p>Refactored search form:</p><ul><li>Now based on the new <code>sq-search-form</code> component (see above). This removes a large portion of the complex logic that was previously implemented at the application level.</li><li>New simpler <code>app-autocomplete</code> component (replacing the <code>sqAutocompleteExtended</code> directive), which can still be easily customized to add new sources of suggestions or modify the display of the suggestions.</li><li>Removed the &quot;advanced search&quot; mode from the default UI. This can still be added back by customizing the search form component and using the components from <code>@sinequa/components/advanced</code>.</li></ul></li><li><p>Redesigned preview route:</p><ul><li>Now based on the refactoring of the preview module (see above).</li><li>Improved minimap component (showing matches more accurately).</li><li>Improved highlighting of long extracts (Now surrounded with a rectangle rather than highlighting the whole extract).</li><li>Improved embedded tooltip look &amp; feel.</li><li>Improved list of extracts (now displayed in a virtual scroller).</li><li>Improved list of entities and query matches (with a refreshed look &amp; feel and auto storage of highlight preferences).</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pepper">Pepper<a href="#pepper" class="hash-link" aria-label="Direct link to Pepper" title="Direct link to Pepper">​</a></h2><ul><li><p>Removed the logging of audit events from the AppComponent (now handled by the core library).</p></li><li><p>Complete reorganization of the application CSS, based on the new Sinequa Theme (see above).</p></li><li><p>Replaced the <code>sq-facet-mysearch</code> component with the new <code>sq-filters-view</code> (see above).</p></li><li><p>Implemented the new <code>sq-preview</code> component (see above). The configuration is defined in <code>config.ts</code> but can be overriden by the server without recompiling the application.</p></li><li><p>The <code>sq-facet-filters</code> was removed from the application (replaced by the integrated search form)</p></li><li><p>The previous search form was replaced by a new &quot;Integrated Search Form&quot;. This search form is based on the new <code>sq-search-form</code> component (see above) and allows to display facets and filters in addition to the autocomplete. The search form is documented in the <a href="/dokku/docs/apps/pepper#integrated-search-form">Pepper documentation</a>.</p></li><li><p>The Pepper dashboard is now based on the new <code>sq-dashboard</code> component (see above). The dashboard customization process is documented in the <a href="/dokku/docs/apps/pepper#dashboard">Pepper documentation</a>.</p></li><li><p>The dashboard toolbar was simplified to only include the most useful actions:</p><ul><li>Collapse the search results</li><li>Add a new widget</li><li>Import or export the dashboard configuration</li><li>Close the currently open previews</li></ul></li><li><p>Only one dashboard can be saved in the user settings (as opposed to a list of named dashboards)</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="llm-integration">LLM Integration<a href="#llm-integration" class="hash-link" aria-label="Direct link to LLM Integration" title="Direct link to LLM Integration">​</a></h2><p>The new <code>sq-chat</code> component (see above) allows to interact with a Large Language Model (LLM). This component was integrated in a custom version of Vanilla Search currently available on a separate branch of the repository (<code>chatgpt-integration</code>). On top of the chat itself, an &quot;assistant&quot; component acts as an interface between the Search interface and the chat (to perform Retrieval Augmented Generation). This application is documented in the <a href="/dokku/docs/apps/llm-integration">LLM integration documentation</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="component-docs">Component-docs<a href="#component-docs" class="hash-link" aria-label="Direct link to Component-docs" title="Direct link to Component-docs">​</a></h2><p>Components-docs is a new application not meant to be used as a &quot;starter application&quot; (unlike Vanilla or Pepper). It is included for various technical reasons:</p><ul><li>It is used to generate the interactive examples in the SBA documentation (using Angular Elements).</li><li>It is used to quickly visualize and test components that are not included by default in Vanilla or Pepper.</li><li>It is used to run the end-to-end tests of the SBA components with Cypress.</li></ul><p>Note that the data used by this application can be either real data from a Sinequa server, or mocked data (included in the application itself).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage-analytics">Usage Analytics<a href="#usage-analytics" class="hash-link" aria-label="Direct link to Usage Analytics" title="Direct link to Usage Analytics">​</a></h2><ul><li>Removed programmatically added boundaries of value 0 in timeline-typed widgets and updated the curve type used to draw the timeline.</li><li>Disabled change selection on timeline zooming (to avoid unwanted selection changes when zooming in/out).</li><li>Empty timeline-typed widgets are now displaying <em>no data to display</em> message.</li><li>Added native plot of multiple time series from different queries in timeline-typed widgets.</li><li>Changed the display of tooltips in timeline-typed widgets in order to fit the case of multiple time series charts.</li><li>Added a toggle button to timeline-typed widgets to display time series of the preceding period. </li><li>Enabled *Rename dashboard&quot; action in the dashboard toolbar.</li><li>Fixed log errors when trying to switch from Chart to Grid view.</li><li>Added a custom configuration to the column <em>timestamp</em>, in the default query configuration so that it will be automatically well-formatted.</li><li>Enabled the feature to use multiple dataset web services in the same application. Queries having the same name are now overriden by the last one in the last dataset web service (from left to right).</li><li>The dashboard service <code>DashboardItemOption</code> object now has proper typing for the <code>parameters</code> argument, enables typing each widget (timeline, chart, grid ...). New configuration interfaces are documented in the <a href="https://github.com/sinequa/usage-analytics" target="_blank" rel="noopener noreferrer">Usage analytics documentation</a>.</li><li>Added new type <code>heatmap chart</code>, based on <code>sq-heatmap</code> component (see above), allowing to display analytic indicator requesting <em>cross-distribution</em>.</li><li>Added new type <code>multi level pie chart</code>, allowing to display hierarchical-tree indicator. This new component is documented in the <a href="/dokku/docs/libraries/analytics/fusioncharts">Analytics library</a>.</li><li>Reorganized <em>Palette of widgets</em> and <em>default dashboards</em>.</li><li>Refreshed look &amp; feel, based on the new Sinequa Theme (see above).</li><li>Added link to a new <em>Help page</em>, including detailed informations and explanations of the overall context of the application.</li><li><em>Help page</em> and <em>feedback</em> buttons could be displayed or not, depending on the respective JSON configuration properties <code>enableHelpPageLink</code> and <code>enableUserFeedbackMenu</code>.</li><li>Grid rows are now selectable (with a checkbox) and the selection is handled by <code>onGridSelectionChanged()</code> in the <code>dashboard-item.component.ts</code>. </li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="vanilla-builder">Vanilla Builder<a href="#vanilla-builder" class="hash-link" aria-label="Direct link to Vanilla Builder" title="Direct link to Vanilla Builder">​</a></h2><ul><li>supports new metadata component</li><li>supports new preview component</li><li>add global configuration as a service</li><li>new global configurator</li><li>new image selector configurator</li><li>move checkbox, color picker, image selector and multi-select components to the <strong>ngx-ui-builder library</strong>.
Those components are now prefixed by <code>uib_</code></li><li><code>search-form</code> component was renamed <code>search-form-legacy</code></li></ul><p>⚠️ As the global configuration structure has changed, weird effects might occur with existing configuration. Specifically with images.</p><p>Before:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;...&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;logoLight&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/assets/vanilla-logo.png&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;logoDark&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/assets/vanilla-logo_dark.png&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;...&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;images&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;logoLight&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;filename&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/assets/vanilla-logo.png&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;logoDark&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;filename&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/assets/vanilla-logo_dark.png&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When a previous configuration is detected, an automatic conversion will be done.
In the case where this conversion doesn&#x27;t work, just update manually the image using the builder.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hebus/dokku/tree/main/docs/releases/release-11.10.0.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/dokku/docs/releases/release-11-9-0"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">11.9.0</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/dokku/docs/contact"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Contact</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#️-platform-breaking-changes" class="table-of-contents__link toc-highlight">⚠️ Platform breaking changes</a></li><li><a href="#documentation-updates" class="table-of-contents__link toc-highlight">Documentation updates</a></li><li><a href="#end-to-end-tests" class="table-of-contents__link toc-highlight">End-to-end tests</a></li><li><a href="#core" class="table-of-contents__link toc-highlight">Core</a><ul><li><a href="#web-services" class="table-of-contents__link toc-highlight">Web services</a></li><li><a href="#login" class="table-of-contents__link toc-highlight">Login</a></li><li><a href="#audit" class="table-of-contents__link toc-highlight">Audit</a></li><li><a href="#miscellaneous" class="table-of-contents__link toc-highlight">Miscellaneous</a></li></ul></li><li><a href="#components" class="table-of-contents__link toc-highlight">Components</a><ul><li><a href="#autocomplete-module" class="table-of-contents__link toc-highlight">Autocomplete module</a></li><li><a href="#collapse-module" class="table-of-contents__link toc-highlight">Collapse module</a></li><li><a href="#facet-module" class="table-of-contents__link toc-highlight">Facet module</a></li><li><a href="#new-filters-module" class="table-of-contents__link toc-highlight">New Filters module</a></li><li><a href="#machine-learning-module" class="table-of-contents__link toc-highlight">Machine Learning module</a></li><li><a href="#metadata-module" class="table-of-contents__link toc-highlight">Metadata module</a></li><li><a href="#preview-module" class="table-of-contents__link toc-highlight">Preview module</a></li><li><a href="#result-module" class="table-of-contents__link toc-highlight">Result module</a></li><li><a href="#new-search-form-module" class="table-of-contents__link toc-highlight">New Search-Form module</a></li><li><a href="#search-module" class="table-of-contents__link toc-highlight">Search module</a></li><li><a href="#theme-toggle" class="table-of-contents__link toc-highlight">Theme toggle</a></li><li><a href="#theme" class="table-of-contents__link toc-highlight">Theme</a></li><li><a href="#utils" class="table-of-contents__link toc-highlight">Utils</a></li></ul></li><li><a href="#analytics" class="table-of-contents__link toc-highlight">Analytics</a><ul><li><a href="#new-dashboard-module" class="table-of-contents__link toc-highlight">New Dashboard module</a></li><li><a href="#heatmap-module" class="table-of-contents__link toc-highlight">Heatmap module</a></li><li><a href="#timeline-module" class="table-of-contents__link toc-highlight">Timeline module</a></li></ul></li><li><a href="#vanilla-search" class="table-of-contents__link toc-highlight">Vanilla Search</a></li><li><a href="#pepper" class="table-of-contents__link toc-highlight">Pepper</a></li><li><a href="#llm-integration" class="table-of-contents__link toc-highlight">LLM Integration</a></li><li><a href="#component-docs" class="table-of-contents__link toc-highlight">Component-docs</a></li><li><a href="#usage-analytics" class="table-of-contents__link toc-highlight">Usage Analytics</a></li><li><a href="#vanilla-builder" class="table-of-contents__link toc-highlight">Vanilla Builder</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/dokku/docs/tutorial/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/sinequa" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://sinequa.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/sinequa/sba-angular" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 <a href="https://www.sinequa.com" aria-alt="Sinequa website">Sinequa</a>. Distributed under the terms of the <a href="https://github.com/sinequa/sba-angular/blob/master/license.txt" aria-alt="MIT license">MIT license</a></div></div></div></footer></div>
<script src="/dokku/assets/js/runtime~main.d2c78bc4.js"></script>
<script src="/dokku/assets/js/main.b200fd7b.js"></script>
</body>
</html>