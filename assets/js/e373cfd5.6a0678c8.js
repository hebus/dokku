"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6524],{3905:(e,t,i)=>{i.d(t,{Zo:()=>p,kt:()=>d});var n=i(67294);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}var s=n.createContext({}),c=function(e){var t=n.useContext(s),i=t;return e&&(i="function"==typeof e?e(t):r(r({},t),e)),i},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},f="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var i=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),f=c(i),m=a,d=f["".concat(s,".").concat(m)]||f[m]||u[m]||o;return i?n.createElement(d,r(r({ref:t},p),{},{components:i})):n.createElement(d,r({ref:t},p))}));function d(e,t){var i=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=i.length,r=new Array(o);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[f]="string"==typeof e?e:a,r[1]=l;for(var c=2;c<o;c++)r[c]=i[c];return n.createElement.apply(null,r)}return n.createElement.apply(null,i)}m.displayName="MDXCreateElement"},97808:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var n=i(87462),a=(i(67294),i(3905));const o={layout:"default",title:"Notification Module",parent:"Core",grand_parent:"Libraries",nav_order:6},r="Notification Module",l={unversionedId:"libraries/core/notification",id:"libraries/core/notification",title:"Notification Module",description:"Features",source:"@site/docs/libraries/core/notification.md",sourceDirName:"libraries/core",slug:"/libraries/core/notification",permalink:"/dokku/docs/libraries/core/notification",draft:!1,editUrl:"https://github.com/hebus/dokku/tree/main/docs/libraries/core/notification.md",tags:[],version:"current",frontMatter:{layout:"default",title:"Notification Module",parent:"Core",grand_parent:"Libraries",nav_order:6},sidebar:"tutorialSidebar",previous:{title:"Modal Module",permalink:"/dokku/docs/libraries/core/modal"},next:{title:"Web Services Module",permalink:"/dokku/docs/libraries/core/web-services"}},s={},c=[{value:"Features",id:"features",level:2},{value:"Import",id:"import",level:2},{value:"API usage",id:"api-usage",level:2},{value:"NotificationsService",id:"notificationsservice",level:3},{value:"Emit user notification",id:"emit-user-notification",level:4},{value:"Listen to the notification stream",id:"listen-to-the-notification-stream",level:4},{value:"Manage user notifications",id:"manage-user-notifications",level:4}],p={toc:c},f="wrapper";function u(e){let{components:t,...o}=e;return(0,a.kt)(f,(0,n.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"notification-module"},"Notification Module"),(0,a.kt)("h2",{id:"features"},"Features"),(0,a.kt)("p",null,"This module provides the ",(0,a.kt)("inlineCode",{parentName:"p"},"NotificationService")," that helps to create user notification."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Error notification",src:i(88134).Z,width:"1870",height:"905"}),"\n",(0,a.kt)("em",{parentName:"p"},"An error notification"),"\n{: .text-center }"),(0,a.kt)("h2",{id:"import"},"Import"),(0,a.kt)("p",null,"You do not need to import this module because it is imported and overridden by the Components Notification module."),(0,a.kt)("p",null,"Whenever you want to emit user notifications in your component, inject the ",(0,a.kt)("inlineCode",{parentName:"p"},"NotificationsService")," into your component."),(0,a.kt)("h2",{id:"api-usage"},"API usage"),(0,a.kt)("h3",{id:"notificationsservice"},"NotificationsService"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"NotificationsService")," provides several methods that helps you:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"to create a user notification,"),(0,a.kt)("li",{parentName:"ul"},"to listen to the stream of notifications, so that your components can be notified when a new user notification arrives and reacts on that event,"),(0,a.kt)("li",{parentName:"ul"},"to manage the list of active notifications: to hide/show, to delete and to close them.")),(0,a.kt)("h4",{id:"emit-user-notification"},"Emit user notification"),(0,a.kt)("p",null,"There are four types of notifications, which are defined by the enum value ",(0,a.kt)("inlineCode",{parentName:"p"},"NotificationType"),". The valid values are ",(0,a.kt)("inlineCode",{parentName:"p"},"Success"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"Info"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"Warning")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"Error"),"."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"NotificationsService")," provides methods to rapidly emit a notification of each of these types:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"NotificationsService.success()")," emits a ",(0,a.kt)("inlineCode",{parentName:"li"},"Success")," notification.")),(0,a.kt)("p",null,"The method signature is"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"success(\n  text: string,\n  params?: MapOf<any>,\n  title?: string\n): Notification\n")),(0,a.kt)("p",null,"Example 1: success notification"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"this.notificationsService.success('A success message');\n")),(0,a.kt)("p",null,"which yields"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Success notification",src:i(13282).Z,width:"1870",height:"905"}),"\n",(0,a.kt)("em",{parentName:"p"},"A success notification"),"\n{: .text-center }"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"NotificationsService.info()")," emits an ",(0,a.kt)("inlineCode",{parentName:"li"},"Info")," notification.")),(0,a.kt)("p",null,"The method signature is"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"info(\n  text: string,       // The message, could be internationalized (i18n) message.\n  params?: MapOf<any>,// The formatting parameters for the message.\n  title?: string      // The title (header) of the notification.\n): Notification\n")),(0,a.kt)("p",null,"Example 2: info notification"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"this.notificationsService.info('An info message');\n")),(0,a.kt)("p",null,"which yields"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Info notification",src:i(82161).Z,width:"1870",height:"905"}),"\n",(0,a.kt)("em",{parentName:"p"},"An info notification"),"\n{: .text-center }"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"NotificationsService.warning()")," emits an ",(0,a.kt)("inlineCode",{parentName:"li"},"Warning")," notification.")),(0,a.kt)("p",null,"The method signature is"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"warning(\n  text: string,       // The message, could be internationalized (i18n) message.\n  params?: MapOf<any>,// The formatting parameters for the message.\n  title?: string      // The title (header) of the notification.\n): Notification\n")),(0,a.kt)("p",null,"Example 3: warning notification"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"this.notificationsService.warning('A warning message');\n")),(0,a.kt)("p",null,"which yields"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"warning notification",src:i(85010).Z,width:"1870",height:"905"}),"\n",(0,a.kt)("em",{parentName:"p"},"An info notification"),"\n{: .text-center }"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"NotificationsService.error()")," emits an ",(0,a.kt)("inlineCode",{parentName:"li"},"Error")," notification.")),(0,a.kt)("p",null,"The method signature is"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"error(\n  text: string,       // The message, could be internationalized (i18n) message.\n  params?: MapOf<any>,// The formatting parameters for the message.\n  title?: string      // The title (header) of the notification.\n): Notification\n")),(0,a.kt)("p",null,"Example 4: error notification"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"this.notificationsService.error('An error message');\n")),(0,a.kt)("p",null,"which yields"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Error notification",src:i(31002).Z,width:"1870",height:"905"}),"\n",(0,a.kt)("em",{parentName:"p"},"An error notification"),"\n{: .text-center }"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"You may notice that the notifications generated by ",(0,a.kt)("inlineCode",{parentName:"li"},"NotificationsService.success()")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"NotificationsService.info()"),"\nautomatically disappear after a certain time while those generated by ",(0,a.kt)("inlineCode",{parentName:"li"},"NotificationsService.warning()")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"NotificationsService.error()"),"\nstay on the screen until you click on the close button. This is not fixed and you can can choose to make short-lived\nerror notifications or info notification that stays on the screen until user closes it.\nThis can be done using the method ",(0,a.kt)("inlineCode",{parentName:"li"},"NotificationsService.success()"),".")),(0,a.kt)("p",null,"The method signature is"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"notify(\n  type: NotificationType, // The notification type\n  text: string,           // The message, could be internationalized (i18n) message.\n  params?: MapOf<any>,    // The formatting parameters for the message.\n  title?: string,         // The title (header) of the notification.\n  autoClose?: boolean     // Whether the notification automatically closes after a certain time\n): Notification\n")),(0,a.kt)("p",null,"Example 5: custom notification"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"this.notificationsService.notify(NotificationType.Info, 'An info message');\n")),(0,a.kt)("p",null,"which yields"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"custom notification",src:i(30687).Z,width:"1870",height:"905"}),"\n",(0,a.kt)("em",{parentName:"p"},"A custom notification"),"\n{: .text-center }"),(0,a.kt)("h4",{id:"listen-to-the-notification-stream"},"Listen to the notification stream"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"NotificationsService")," provides the ",(0,a.kt)("inlineCode",{parentName:"p"},"NotificationsService.notificationsStream()")," for any components that want to react on the event of arrival of new notification to subscribe."),(0,a.kt)("p",null,"In particular, it also emits a ",(0,a.kt)("inlineCode",{parentName:"p"},"null")," event when notifications are deleted."),(0,a.kt)("h4",{id:"manage-user-notifications"},"Manage user notifications"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"NotificationsService")," provides a variety of methods to follow and manage the state of the notification lists"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"haveNotifications()")," returns ",(0,a.kt)("inlineCode",{parentName:"li"},"true")," if there are some notifications,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"allNotificationsShowing()")," returns ",(0,a.kt)("inlineCode",{parentName:"li"},"true")," if ",(0,a.kt)("strong",{parentName:"li"},"all")," the notifications in the list are being shown on the screen,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"allNotificationsShowing()")," returns ",(0,a.kt)("inlineCode",{parentName:"li"},"true")," if ",(0,a.kt)("strong",{parentName:"li"},"none")," of the notifications are being shown on the screen,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"lastNotification()")," returns the latest notification if any,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"showNotifications()")," shows all the notifications in the list,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"showNotifications()")," hides all notifications,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"deleteAllNotifications()")," deletes all notifications,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"deleteNotification(notification: Notification)")," deletes a specific notification,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"closeNotification(notification: Notification)")," hides a notification if it has just been created and has not been shown, otherwise deletes the notification.")))}u.isMDXComponent=!0},30687:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/notification-custom-example-2e8fcc5ad796f58deac6605dcbb0c524.png"},31002:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/notification-error-example-a0c87754c9cbab40d05da1d9ba7d0783.png"},88134:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/notification-error-notification-example-03490f27eaa90f1d2bbddf539eb3b147.png"},82161:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/notification-info-example-51c7f3c7899d6abcb9a0bc61879b6c62.png"},13282:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/notification-success-example-4fafb200184eeb77dd34c47ba510f1a6.png"},85010:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/notification-warning-example-90c334ec91714efd657ae2edf87fd5b5.png"}}]);