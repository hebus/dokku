"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3906],{91601:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var t=s(74848),i=s(28453);const o={layout:"default",title:"Debugging your app",parent:"Tips and Tricks",sidebar_position:1},r="Debugging your SBA",a={id:"tipstricks/debugging",title:"Debugging your app",description:'SBA run in the browser, on the client side. When you develop your app, you will frequently have runtime errors, which typically result in the app freezing or not responding as expected. It is very useful to know how to use your browser\'s "Inspector" to find out what is going wrong.',source:"@site/docs/tipstricks/debugging.md",sourceDirName:"tipstricks",slug:"/tipstricks/debugging",permalink:"/sba-angular/docs/tipstricks/debugging",draft:!1,unlisted:!1,editUrl:"https://github.com/sinequa/sba-angular/tree/main/docs/tipstricks/debugging.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{layout:"default",title:"Debugging your app",parent:"Tips and Tricks",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Tips and Tricks",permalink:"/sba-angular/docs/tipstricks/"},next:{title:"Custom metadata",permalink:"/sba-angular/docs/tipstricks/metadata"}},c={},l=[{value:"How to deal with runtime errors",id:"how-to-deal-with-runtime-errors",level:2}];function h(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"debugging-your-sba",children:"Debugging your SBA"}),"\n",(0,t.jsx)(n.p,{children:'SBA run in the browser, on the client side. When you develop your app, you will frequently have runtime errors, which typically result in the app freezing or not responding as expected. It is very useful to know how to use your browser\'s "Inspector" to find out what is going wrong.'}),"\n",(0,t.jsx)(n.p,{children:'Modern browsers all have an inspector tool that you can open with F12, or right-clicking on your app and selecting "Inspect". Inspectors are typically divided in tabs, each providing various features, such as:'}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Console"}),": Displays errors and log messages from your app. Also lets you execute JavaScript commands (if you stopped the app with a breakpoint, the commands are executed in the current breakpoint's scope)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Elements"}),": Displays the HTML of the webpage, and let's you inspect specific elements of the DOM (Document Object Model). You can also see and edit the styles applied to any element (which is useful for styling your app without rebuilding your app between each iteration)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Sources"}),": Displays the source code of the app, which includes normally Javascript and CSS, but in the case of an Angular app compiled in debug mode (the default with ",(0,t.jsx)(n.code,{children:"ng serve"}),"), you also have access to the Typescript and SCSS sources."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Network"}),": Displays all the HTTP requests emitted by your app, which lets you see the details of the interactions with the Sinequa API (requests to and responses from the server), as well as all other downloaded resources."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{alt:"Inspector",src:s(24835).A+"",width:"1068",height:"239"}),"\n",(0,t.jsx)(n.em,{children:"The console displayed in the Chrome inspector"})]}),"\n",(0,t.jsx)(n.h2,{id:"how-to-deal-with-runtime-errors",children:"How to deal with runtime errors"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Read the error message. The messages are not always clear and explicit but don't ignore them. After a while, you will recognize these errors and the solutions will become obvious with experience."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Look in the error message for names of parameters and components from your app, or from the Sinequa libraries. If you recognize a name it's likely a good place to start investigating in your code."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Google the error message. It's unlikely you are the only person having that problem. Google is likely to give you a lot of ideas on how to deal with the problem. However, some errors are too generic and don't put you in the right direction."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Look at the linked source, if any. An error message often has a source file and line number linked on the right:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Error message",src:s(99836).A+"",width:"604",height:"112"})}),"\n",(0,t.jsx)(n.p,{children:"If the source file is one of yours, it probably contains the error. If it is an Angular file, it probably means you misused an Angular feature at some point."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["You can also open a specific source file of your app (or from the Sinequa libraries) by exploring the tree in the ",(0,t.jsx)(n.strong,{children:"Source"})," tab."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Source files",src:s(94179).A+"",width:"1024",height:"409"})}),"\n",(0,t.jsxs)(n.p,{children:["The sources of your app are normally under ",(0,t.jsx)(n.em,{children:"webpack:// > . > src"}),", and the (compiled) sources of the Sinequa libraries under ",(0,t.jsx)(n.em,{children:"webpack:// > C:\\... > dist > components/fesm2015"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"In the source, add a breakpoint before the point where the app failed and refresh your app to reach that breakpoint."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Breakpoint",src:s(16271).A+"",width:"920",height:"335"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"When your app reached the breakpoint and paused, there are many things that you can try, such as:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Looking for the values of variables in the scope, simply by hovering your mouse over these variables in the source code."}),"\n",(0,t.jsx)(n.li,{children:"Run JavaScript commands in the Console (you have access to the scope of the breakpoint)."}),"\n",(0,t.jsx)(n.li,{children:"Keep executing the app step by step (buttons on the right)."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Look for failures in the ",(0,t.jsx)(n.strong,{children:"Network"})," tab. Failures are indicated in red. You often want to filter for ",(0,t.jsx)(n.em,{children:"XHR requests"}),", which correspond to the interactions with the API (all the static resources are hidden). Both the requests and responses may contain interesting information."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Network",src:s(49750).A+"",width:"1241",height:"380"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Inspect the state of your Angular component. You can easily select an Angular component by clicking on it in the ",(0,t.jsx)(n.strong,{children:"Elements"})," tab (and/or by use the selection tool)."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Elements",src:s(21905).A+"",width:"387",height:"369"})}),"\n",(0,t.jsxs)(n.p,{children:["In the example above, the Angular component are easy to spot: they are the ones with non-standard HTML names (like ",(0,t.jsx)(n.code,{children:"<div>"}),", ",(0,t.jsx)(n.code,{children:"<span>"}),", etc.), and generally have a prefix (",(0,t.jsx)(n.code,{children:"<sq-...>"})," for Sinequa components, ",(0,t.jsx)(n.code,{children:"<app-...>"})," for the components of your app)."]}),"\n",(0,t.jsxs)(n.p,{children:["When an element is selected, you can access it with ",(0,t.jsx)(n.code,{children:"$0"})," in the ",(0,t.jsx)(n.strong,{children:"console"}),". If the selected element is an Angular component, you can get the instance of this component by typing ",(0,t.jsx)(n.code,{children:"ng.getComponent($0)"}),", which gives you access to all its fields and properties."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Component state",src:s(66297).A+"",width:"1015",height:"166"})}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},16271:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/breakpoint-bae837a4a6651e2d08493b098473fa83.png"},66297:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/component-state-cdf774c6010fa794ed0b1a8c4a4beeb7.png"},21905:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/elements-75a30bd7400818aeac20465ab29ef867.png"},99836:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/error-message-d524e703be132dbef38b49e0d865b32e.png"},24835:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/inspector-c43076a7e326ef7c863f185373dbbef2.png"},49750:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/network-30dc23b568307cec3948a715353d26f4.png"},94179:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/source-files-a37e81c728f9f22e0bb419863deb7834.png"},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var t=s(96540);const i={},o=t.createContext(i);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);