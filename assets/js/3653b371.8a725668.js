"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3353],{73189:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>l,frontMatter:()=>i,metadata:()=>a,toc:()=>d});var o=t(74848),s=t(28453);const i={layout:"default",title:"Comments Module",parent:"Components",grand_parent:"Libraries",sidebar_position:15},r="Comments Module",a={id:"libraries/components/comments",title:"Comments Module",description:"Features",source:"@site/docs/libraries/components/comments.md",sourceDirName:"libraries/components",slug:"/libraries/components/comments",permalink:"/sba-angular/docs/libraries/components/comments",draft:!1,unlisted:!1,editUrl:"https://github.com/sinequa/sba-angular/tree/main/docs/libraries/components/comments.md",tags:[],version:"current",sidebarPosition:15,frontMatter:{layout:"default",title:"Comments Module",parent:"Components",grand_parent:"Libraries",sidebar_position:15},sidebar:"tutorialSidebar",previous:{title:"Slide Builder Module",permalink:"/sba-angular/docs/libraries/components/slide-builder"},next:{title:"Results Views Module",permalink:"/sba-angular/docs/libraries/components/results-view"}},c={},d=[{value:"Features",id:"features",level:2},{value:"Import",id:"import",level:2},{value:"Comments component",id:"comments-component",level:2},{value:"Server-side configuration",id:"server-side-configuration",level:2}];function m(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"comments-module",children:"Comments Module"}),"\n",(0,o.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,o.jsx)(n.p,{children:"This module provides a component to display a thread of comments attached to a document."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Comments",src:t(70878).A+"",width:"481",height:"347"})}),"\n",(0,o.jsxs)(n.p,{children:["Users can post comments, replies and like other comments. The author of a comment (or an admin) has the possibility to edit and delete this comment. The component supports ",(0,o.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Markdown",children:"Markdown"})," syntax, enabling users to format their posts without the need for a complex Wysiwyg editor."]}),"\n",(0,o.jsx)(n.h2,{id:"import",children:"Import"}),"\n",(0,o.jsx)(n.p,{children:"\u26a0\ufe0f This component requires a web service deployed on the Sinequa server, that is NOT part of the Sinequa product. The web service is provided a plugin (See below). It is also required to create a custom index to store the comments, and to manage the lifecycle of this index."}),"\n",(0,o.jsxs)(n.p,{children:["Add ",(0,o.jsx)(n.code,{children:"CommentsModule"})," to your Angular imports in ",(0,o.jsx)(n.code,{children:"app.module.ts"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'import { CommentsModule } from "@sinequa/components/comments";\n/*....*/\n\n@NgModule({\n    imports: [\n        /*....*/\n        CommentsModule,\n        /*....*/\n    ],\n    /*....*/\n})\n'})}),"\n",(0,o.jsxs)(n.p,{children:["This module is internationalized: If not already the case, you need to import its messages for the language(s) of your application. For example, in your app's ",(0,o.jsx)(n.code,{children:"src/locales/en.ts"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'...\nimport {enComments} from "@sinequa/components/comments";\n\nconst messages = Utils.merge({}, ..., enComments, appMessages);\n'})}),"\n",(0,o.jsxs)(n.p,{children:["This component has one important dependency: the ",(0,o.jsx)(n.a,{href:"https://marked.js.org/",children:"Marked"})," library needed to render the markdown-formatted comments as HTML."]}),"\n",(0,o.jsx)(n.h2,{id:"comments-component",children:"Comments component"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"sq-comments"})," component displays a list of comments and replies attached to a specific document. This component can be displayed anywere as long as a document id is provided."]}),"\n",(0,o.jsxs)(n.p,{children:["The component requires one mandatory input: ",(0,o.jsx)(n.code,{children:"docid"})," (string), the id of the document to which the thread of comments is attached."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<sq-comments [docid]="record.id"></sq-comment>\n'})}),"\n",(0,o.jsxs)(n.p,{children:["The component uses a service (",(0,o.jsx)(n.code,{children:"CommentsWebService"}),") to retrieve the list of ",(0,o.jsx)(n.code,{children:"Comment"})," objects from the server (as well as all the other actions: create, edit, delete and like comments)."]}),"\n",(0,o.jsx)(n.h2,{id:"server-side-configuration",children:"Server-side configuration"}),"\n",(0,o.jsx)(n.p,{children:"Comments are not yet part of the Sinequa product, so a plugin needs to be deployed on the Sinequa server for the component to work properly."}),"\n",(0,o.jsxs)(n.p,{children:["The code of the plugin is provided ",(0,o.jsx)(n.a,{href:"https://github.com/sinequa/sba-angular/blob/master/projects/components/comments/sample-conf/CommentsWebService.cs",children:"here"}),". The file can be simply copied in a plugin under the ",(0,o.jsx)(n.code,{children:"data/configuration/plugins"})," directory on the Sinequa server."]}),"\n",(0,o.jsxs)(n.p,{children:["Additionally, a custom index must be created to store the comments. The schema of this index is provided ",(0,o.jsx)(n.a,{href:"https://github.com/sinequa/sba-angular/blob/master/projects/components/comments/sample-conf/comments.xml",children:"here"}),". The XML can be copied in the ",(0,o.jsx)(n.code,{children:"data/configuration/indexes"}),"."]})]})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(m,{...e})}):m(e)}},70878:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/comments-a364e9b430419aa5efb08ffb2772e2c8.png"},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var o=t(96540);const s={},i=o.createContext(s);function r(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);