"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9220],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),m=p(n),d=a,h=m["".concat(s,".").concat(d)]||m[d]||u[d]||o;return n?i.createElement(h,l(l({ref:t},c),{},{components:n})):i.createElement(h,l({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=d;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r[m]="string"==typeof e?e:a,l[1]=r;for(var p=2;p<o;p++)l[p]=n[p];return i.createElement.apply(null,l)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},60183:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>p});var i=n(87462),a=(n(67294),n(3905));const o={layout:"default",title:"Action Module",parent:"Components",grand_parent:"Libraries",sidebar_position:20},l="Action Module",r={unversionedId:"libraries/components/action",id:"libraries/components/action",title:"Action Module",description:"Features",source:"@site/docs/libraries/components/action.md",sourceDirName:"libraries/components",slug:"/libraries/components/action",permalink:"/dokku/docs/libraries/components/action",draft:!1,editUrl:"https://github.com/hebus/dokku/tree/main/docs/libraries/components/action.md",tags:[],version:"current",sidebarPosition:20,frontMatter:{layout:"default",title:"Action Module",parent:"Components",grand_parent:"Libraries",sidebar_position:20},sidebar:"tutorialSidebar",previous:{title:"Modal Module",permalink:"/dokku/docs/libraries/components/modal"},next:{title:"Collapse Module",permalink:"/dokku/docs/libraries/components/collapse"}},s={},p=[{value:"Features",id:"features",level:2},{value:"Import",id:"import",level:2},{value:"API usage",id:"api-usage",level:2},{value:"Action class",id:"action-class",level:3},{value:"How to create a menu action or a button",id:"how-to-create-a-menu-action-or-a-button",level:4},{value:"How to create a dropdown menu",id:"how-to-create-a-dropdown-menu",level:4},{value:"Directives and components",id:"directives-and-components",level:3}],c={toc:p},m="wrapper";function u(e){let{components:t,...o}=e;return(0,a.kt)(m,(0,i.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"action-module"},"Action Module"),(0,a.kt)("h2",{id:"features"},"Features"),(0,a.kt)("p",null,"This module provides the classes and directives to create menus and buttons.\nFor example, all the menus in the navigation bar of Vanilla search are implemented using menu and action objects."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"User menu",src:n(99449).Z,width:"1559",height:"386"}),"\n",(0,a.kt)("em",{parentName:"p"},"User menu in navigation bar"),"\n{: .text-center }"),(0,a.kt)("h2",{id:"import"},"Import"),(0,a.kt)("p",null,"Add ",(0,a.kt)("inlineCode",{parentName:"p"},"import { BsActionModule } from '@sinequa/components/action';")," into your ",(0,a.kt)("inlineCode",{parentName:"p"},"app.module.ts"),"."),(0,a.kt)("p",null,"Include ",(0,a.kt)("inlineCode",{parentName:"p"},"BsActionModule")," in Angular import declaration of ",(0,a.kt)("inlineCode",{parentName:"p"},"app.module.ts"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"@NgModule({\n    imports: [\n        /*....*/\n        BsActionModule,\n        /*....*/\n    ],\n    /*....*/\n})\n")),(0,a.kt)("h2",{id:"api-usage"},"API usage"),(0,a.kt)("p",null,"The most important declaration of this module is the ",(0,a.kt)("inlineCode",{parentName:"p"},"Action")," class."),(0,a.kt)("h3",{id:"action-class"},"Action class"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"Action")," class represents an element in a dropdown menu, take for example the User menu in the above screenshot,\nthe button with the user icon and the two elements of the dropdown are ",(0,a.kt)("inlineCode",{parentName:"p"},"Action")," object."),(0,a.kt)("p",null,"An ",(0,a.kt)("inlineCode",{parentName:"p"},"Action")," can have zero or some children, the latter represents a dropdown menu whereas the former an action in a menu or a button."),(0,a.kt)("p",null,"Here are the list of commonly used properties of the ",(0,a.kt)("inlineCode",{parentName:"p"},"Action")," class:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"name"),": The name of the action, can be used as id to distinguish different actions of the same ",(0,a.kt)("inlineCode",{parentName:"li"},"Action")," parent,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"text"),": The display text of the ",(0,a.kt)("inlineCode",{parentName:"li"},"Action"),","),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"title"),": The tooltip to show when hovering the ",(0,a.kt)("inlineCode",{parentName:"li"},"Action"),","),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"icon")," or ",(0,a.kt)("inlineCode",{parentName:"li"},"iconAfter"),": The icon (css class) of the ",(0,a.kt)("inlineCode",{parentName:"li"},"Action"),", if the ",(0,a.kt)("inlineCode",{parentName:"li"},"name")," property is defined, the icon defined by ",(0,a.kt)("inlineCode",{parentName:"li"},"icon")," will be displayed before the text while that by ",(0,a.kt)("inlineCode",{parentName:"li"},"iconAfter")," is shown after the action text,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"separator"),": whether the ",(0,a.kt)("inlineCode",{parentName:"li"},"Action")," is used as a separator in its parent ",(0,a.kt)("inlineCode",{parentName:"li"},"Action"),","),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"selected"),": if true, the display of the ",(0,a.kt)("inlineCode",{parentName:"li"},"Action")," will start with a check icon (","\u2714",")."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"disabled"),": if true, the ",(0,a.kt)("inlineCode",{parentName:"li"},"Action")," is grayed out when it is displayed."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"hidden"),": if true, the ",(0,a.kt)("inlineCode",{parentName:"li"},"Action")," is not shown."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"action"),": A function to execute when the button is clicked,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"updater"),": A function to execute ",(0,a.kt)("em",{parentName:"li"},"before")," the button display is refreshed,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"update"),": When this method is called, ",(0,a.kt)("inlineCode",{parentName:"li"},"updater")," function is called first."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"headerGroup"),": if true, the ",(0,a.kt)("inlineCode",{parentName:"li"},"title")," property of the ",(0,a.kt)("inlineCode",{parentName:"li"},"Action")," is used as a dropdown header displayed before children actions.")),(0,a.kt)("h4",{id:"how-to-create-a-menu-action-or-a-button"},"How to create a menu action or a button"),(0,a.kt)("p",null,"Example 1: A simple menu action that performs the logout procedure with display text"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},'const logoutAction = new Action({\n    text: "msg#userMenu.logout",\n    title: "msg#userMenu.logout",\n    action: () => doLogout()\n});\n')),(0,a.kt)("p",null,"Example 2: A simple menu action with an icon the ",(0,a.kt)("a",{parentName:"p",href:"https://fontawesome.com/icons/universal-access?style=solid"},"universal-icon")," from fontawesome"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},'const logoutAction = new Action({\n    icon: "fas fa-universal-access",\n    title: "msg#action.tooltip",\n    action: () => doSth()\n});\n')),(0,a.kt)("p",null,"Example 3: A menu action that is shown once a condition is satisfied"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},'const hiddenAction = new Action({\n    text: "msg#action.name",    // The text to display on the action button\n    title: "msg#action.tooltip",// The tooltip of the action\n    hidden: true,\n    action: (action) => {\n        doSomething(); // The logout procedure to execute when the action is clicked,\n        action.update(); // needed to call the `updater` callback\n    updater: (action: Action) => {\n        action.hidden = someConditionToCheck;\n    }\n});\n')),(0,a.kt)("p",null,"Example 4: A menu action whose text is changed depending on the value of an outside variable"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},'someCounter = 0;\n\nconst action = new Action({\n    text: "msg#action.evenName",    // The text to display on the action button\n    title: "msg#action.evenTooltip",// The tooltip of the action\n    action: () => doSth(),\n    updater: (item: Action) => {\n        item.text = someCounter / 2 === 0 ? "msg#action.evenName" : "msg#action.oddName";\n        item.title = someCounter / 2 === 0 ? "msg#action.evenTooltip" : "msg#action.oddTooltip";\n    }\n});\n\n/*\n *Some functions that may change the value of someCounter\n */\n ...\n action.update(); // needed to call the `updater` callback\n')),(0,a.kt)("p",null,"Example 5: A separator for the parent dropdown menu"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"const menu = new Action({\n    icon: 'some-icon-class',\n    title: 'msg#menu.tooltip',\n    children: [\n        new Action({\n            text: 'msg#menu.action1.text',\n            title: 'msg#menu.action1.tooltip',\n            action: () => fn1()\n        }),\n        new Action({ separator: true }),\n        new Action({\n            text: 'msg#menu.action2.text',\n            title: 'msg#menu.action2.tooltip',\n            action: () => fn2()\n        }),\n    ]\n});\n")),(0,a.kt)("p",null,"Example 5: A dropdown header for the children dropdown menu items"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"const menu = new Action({\n    icon: 'some-icon-class',\n    title: 'msg#menu.tooltip',\n    headerGroup: true, // `title` will be used as dropdown header\n    children: [\n        new Action({\n            text: 'msg#menu.action1.text',\n            title: 'msg#menu.action1.tooltip',\n            action: () => fn1()\n        }),\n        new Action({ separator: true }),\n        new Action({\n            text: 'msg#menu.action2.text',\n            title: 'msg#menu.action2.tooltip',\n            action: () => fn2()\n        }),\n    ]\n});\n")),(0,a.kt)("h4",{id:"how-to-create-a-dropdown-menu"},"How to create a dropdown menu"),(0,a.kt)("p",null,"A dropdown menu is simply an ",(0,a.kt)("inlineCode",{parentName:"p"},"Action")," object who has children but no action to execute (i.e. ",(0,a.kt)("inlineCode",{parentName:"p"},"action")," property is ",(0,a.kt)("inlineCode",{parentName:"p"},"undefined"),")"),(0,a.kt)("p",null,"Take for example the dropdown menu to manage user alert in the navigation bar, the following code snippet shows\nhow it is defined in the navigation bar."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Alert menu",src:n(40072).Z,width:"1848",height:"141"}),"\n",(0,a.kt)("em",{parentName:"p"},"Alert menu in navigation bar"),"\n{: .text-center }"),(0,a.kt)("p",null,"Example 1: Alert dropdown menu in the navigation bar"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},'const alertsActions: Action[] = [];\nconst createAction = new Action({\n    text: "msg#alerts.createAlert",\n    title: "msg#alerts.createAlert",\n    action: () => createAlert();\n});\n\nconst manageAction = new Action({\n    text: "msg#alerts.manageAlerts",\n    title: "msg#alerts.manageAlerts",\n    action: () => manageAlert();\n});\n\nalertsActions.push(createAction);\nalertsActions.push(manageAction);\n\nconst alertMenu = new Action({\n    icon: "some-icon-class",\n    text: "msg#alerts.alerts",\n    children: alertsActions\n});\n')),(0,a.kt)("h3",{id:"directives-and-components"},"Directives and components"),(0,a.kt)("p",null,"Once you have defined your menus and buttons, you need to use one of the following directives or components to display them in the HTML template of your components"),(0,a.kt)("p",null,"you can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"sq-action-buttons")," component that creates a menu of buttons."),(0,a.kt)("p",null,"Its input is an ",(0,a.kt)("inlineCode",{parentName:"p"},"ActionButtonsOptions")," object:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"items"),": the children ",(0,a.kt)("inlineCode",{parentName:"li"},"Action")," elements of the menu,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"size"),": the size of the menu, the valid values are (in ascending order): ",(0,a.kt)("inlineCode",{parentName:"li"},'"xs", "sm", "md", "lg", "xl", "xxl"'),","),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"style"),": extra css classes to apply."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"autoAdjust"),": whether to automatically change the visualisation of the menu and its children when resizing the browser window,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"autoAdjustBreakpoint"),": if ",(0,a.kt)("inlineCode",{parentName:"li"},"autoAdjust")," is activated, this property defines the size of the browser window,\nat which the menu size can be adjusted instead of always adjusting the menu each time a resizing happens,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"rightAligned"),": whether the menu elements are right-aligned.")),(0,a.kt)("p",null,"Example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<sq-action-buttons\n    [sq-action-buttons]="{\n        items: [action1, action2],\n        autoAdjust: true,\n        rightAligned: rightAligned\n    }"\n></sq-action-buttons>\n')),(0,a.kt)("p",null,"Alternatively, you can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"sq-action-item")," component."),(0,a.kt)("p",null,"This component expects an ",(0,a.kt)("inlineCode",{parentName:"p"},"ActionItemOptions")," object as input:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"item"),": the ",(0,a.kt)("inlineCode",{parentName:"li"},"Action")," object representing the menu,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"size"),": the size of the menu, the valid values are (in ascending order): ",(0,a.kt)("inlineCode",{parentName:"li"},'"xs", "sm", "md", "lg", "xl", "xxl"'),","),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"style"),": the CSS class of the menu,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"autoAdjust"),": whether to automatically change the visualisation of the menu and its children when resizing the browser window,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"autoAdjustBreakpoint"),": if ",(0,a.kt)("inlineCode",{parentName:"li"},"autoAdjust")," is activated, this property defines the size of the browser window,\nat which the menu size can be adjusted instead of always adjusting the menu each time a resizing happens,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"inMenu"),": if ",(0,a.kt)("inlineCode",{parentName:"li"},"true"),", the menu element will have ",(0,a.kt)("inlineCode",{parentName:"li"},"nav-link")," CSS class. Otherwise, they are set to ",(0,a.kt)("inlineCode",{parentName:"li"},"dropdown-item"),","),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"rightAligned"),": whether the menu elements are right-aligned.")),(0,a.kt)("p",null,"Example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<div\n    class="btn-group dropdown"\n    [sq-action-item]="{\n        item: item,\n        size: size,\n        style: style,\n        autoAdjust: autoAdjust,\n        autoAdjustBreakpoint: autoAdjustBreakpoint,\n        rightAligned: rightAligned}"\n></div>\n')),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"sq-action-menu")," component is another way to create a dropdown menu."),(0,a.kt)("p",null,"This component expects the following values:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"items"),": the children ",(0,a.kt)("inlineCode",{parentName:"li"},"Action")," elements of the menu,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"size"),": the size of the menu, the valid values are (in ascending order): ",(0,a.kt)("inlineCode",{parentName:"li"},'"xs", "sm", "md", "lg", "xl", "xxl"'),","),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"autoAdjust"),": whether to automatically change the visualisation of the menu and its children when resizing the browser window,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"autoAdjustBreakpoint"),": if ",(0,a.kt)("inlineCode",{parentName:"li"},"autoAdjust")," is activated, this property defines the size of the browser window,\nat which the menu size can be adjusted instead of always adjusting the menu each time a resizing happens,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"right"),": whether the menu elements are right-aligned.")),(0,a.kt)("p",null,"Example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<sq-action-menu [items]="items" [autoAdjust]="true" [autoAdjustBreakpoint]="\'xxl\'" [right]="true"></sq-action-menu>\n')),(0,a.kt)("p",null,"Finally, there is the ",(0,a.kt)("inlineCode",{parentName:"p"},"sq-dropdown-menu")," directive."),(0,a.kt)("p",null,"The input of the directive is an  (",(0,a.kt)("inlineCode",{parentName:"p"},"DropdownMenuOptions")," object):"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"item"),": the ",(0,a.kt)("inlineCode",{parentName:"li"},"Action")," object represents the menu,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"rightAligned"),": whether the elements of the menu will be right-aligned,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"showMenuClass"),": the CSS class of the menu when it is shown.")),(0,a.kt)("p",null,"Example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<ul [sq-dropdown-menu]="{item: menuAction, showMenuClass: menuClass}"></ul>\n')))}u.isMDXComponent=!0},40072:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/action-alert-dropdown-menu-0e6a4c815e82d7326d82c0966008fdad.PNG"},99449:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/action-menus-on-navbar-7179dbfdcee845fdec11bf27b38a1c78.PNG"}}]);